"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var t;window.Tabulator={columnManager:null,rowManager:null,footerManager:null,browser:"",browserSlow:!1,options:(t={height:!1,fitColumns:!1,columnMinWidth:40,columnVertAlign:"top",resizableColumns:!0,columns:[],data:[],tooltips:!1,tooltipsHeader:!1,initialSort:!1,footerElement:!1,index:"id",keybindings:[],downloadDataMutator:!1,addRowPos:"bottom",selectable:"highlight",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(e,t){return!0},headerFilterPlaceholder:!1,history:!1,locale:!1,langs:{},virtualDom:!0,persistentLayout:!1,persistentLayoutID:"",responsiveLayout:!1,pagination:!1,paginationSize:!1,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginator:!1,ajaxURL:!1,ajaxParams:{},ajaxConfig:"get",ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,groupBy:!1,groupStartOpen:!0,groupHeader:!1,movableColumns:!1,movableRows:!1,rowFormatter:!1,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1},_defineProperty(t,"rowContext",!1),_defineProperty(t,"rowTap",!1),_defineProperty(t,"rowDblTap",!1),_defineProperty(t,"rowTapHold",!1),_defineProperty(t,"rowAdded",function(){}),_defineProperty(t,"rowDeleted",function(){}),_defineProperty(t,"rowMoved",function(){}),_defineProperty(t,"rowUpdated",function(){}),_defineProperty(t,"rowSelectionChanged",function(){}),_defineProperty(t,"rowSelected",function(){}),_defineProperty(t,"rowDeselected",function(){}),_defineProperty(t,"cellEditing",function(){}),_defineProperty(t,"cellEdited",function(){}),_defineProperty(t,"cellEditCancelled",function(){}),_defineProperty(t,"columnMoved",function(){}),_defineProperty(t,"columnResized",function(){}),_defineProperty(t,"columnTitleChanged",function(){}),_defineProperty(t,"columnVisibilityChanged",function(){}),_defineProperty(t,"htmlImporting",function(){}),_defineProperty(t,"htmlImported",function(){}),_defineProperty(t,"dataLoading",function(){}),_defineProperty(t,"dataLoaded",function(){}),_defineProperty(t,"dataEdited",function(){}),_defineProperty(t,"ajaxRequesting",function(){}),_defineProperty(t,"ajaxResponse",!1),_defineProperty(t,"ajaxError",function(){}),_defineProperty(t,"dataFiltering",!1),_defineProperty(t,"dataFiltered",!1),_defineProperty(t,"dataSorting",function(){}),_defineProperty(t,"dataSorted",function(){}),_defineProperty(t,"dataGrouping",function(){}),_defineProperty(t,"dataGrouped",!1),_defineProperty(t,"groupVisibilityChanged",function(){}),_defineProperty(t,"pageLoaded",function(){}),_defineProperty(t,"localized",function(){}),t),_create:function(){var e=this,t=this.element;e.bindExtensions(),t.is("table")?this.extExists("htmlTableImport",!0)&&e.extensions.htmlTableImport.parseTable():(e.columnManager=new ColumnManager(e),e.rowManager=new RowManager(e),e.footerManager=new FooterManager(e),e.columnManager.setRowManager(e.rowManager),e.rowManager.setColumnManager(e.columnManager),e._buildElement(),this._loadInitialData())},_buildElement:function(){var e=this.element,t=this.extensions,n=this.options;n.tableBuilding(),e.addClass("tabulator").attr("role","grid").empty(),this._detectBrowser(),!1!==n.headerFilterPlaceholder&&t.localize.setHeaderFilterPlaceholder(n.headerFilterPlaceholder);for(var i in n.langs)t.localize.installLang(i,n.langs[i]);t.localize.setLocale(n.locale),"string"==typeof n.placeholder&&(n.placeholder=$("<div class='tabulator-placeholder'><span>"+n.placeholder+"</span></div>")),n.height&&(n.height=isNaN(n.height)?n.height:n.height+"px",this.element.css({height:n.height})),e.append(this.columnManager.getElement()),e.append(this.rowManager.getElement()),n.footerElement&&this.footerManager.activate(),n.persistentLayout&&this.extExists("persistentLayout",!0)&&(t.persistentLayout.initialize(n.persistentLayout,n.persistentLayoutID),n.columns=t.persistentLayout.load(n.columns)),this.extExists("columnCalcs")&&t.columnCalcs.initialize(),this.columnManager.setColumns(n.columns),n.initialSort&&this.extExists("sort",!0)&&t.sort.setSort(n.initialSort),n.pagination&&this.extExists("page",!0)&&t.page.initialize(),n.groupBy&&this.extExists("groupRows",!0)&&t.groupRows.initialize(),this.extExists("ajax")&&t.ajax.initialize(),this.extExists("keybindings")&&t.keybindings.initialize(),this.extExists("selectRow")&&t.selectRow.clearSelectionData(),n.tableBuilt()},_loadInitialData:function(){var e=this;e.options.pagination&&e.extExists("page")?(e.extensions.page.reset(!0),e.extensions.page.setPage(1),"local"==e.options.pagination&&e.rowManager.setData(e.options.data)):e.options.data.length?e.rowManager.setData(e.options.data):e.options.ajaxURL&&e.extExists("ajax")?e.extensions.ajax.sendRequest(function(t){e.rowManager.setData(t)}):e.rowManager.setData(e.options.data)},_setOption:function(e,t){},_destroy:function(){var e=this.element;e.empty(),e.removeClass("tabulator")},_detectBrowser:function(){var e=navigator.userAgent;e.indexOf("Trident")>-1?(this.brower="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.brower="edge",this.browserSlow=!0):(this.brower="other",this.browserSlow=!1)},setData:function(e,t,n){var i=this,i=this;"string"==typeof e?0==e.indexOf("{")||0==e.indexOf("[")?i.rowManager.setData(JSON.parse(e)):i.extExists("ajax",!0)&&(t&&i.extensions.ajax.setParams(t),n&&i.extensions.ajax.setConfig(n),i.extensions.ajax.setUrl(e),"remote"==i.options.pagination&&i.extExists("page",!0)?(i.extensions.page.reset(!0),i.extensions.page.setPage(1)):i.extensions.ajax.sendRequest(function(e){i.rowManager.setData(e)})):e?i.rowManager.setData(e):i.extExists("ajax")&&i.extensions.ajax.getUrl?"remote"==i.options.pagination&&i.extExists("page",!0)?(i.extensions.page.reset(!0),i.extensions.page.setPage(1)):i.extensions.ajax.sendRequest(function(e){i.rowManager.setData(e)}):i.rowManager.setData([])},clearData:function(){this.rowManager.clearData()},getData:function(e){return this.rowManager.getData(e)},getDataCount:function(e){return this.rowManager.getDataCount(e)},updateData:function(e){var t=this;e&&e.forEach(function(e){var n=t.rowManager.findRow(e[t.options.index]);n&&n.updateData(e)})},updateOrAddData:function(e){var t=this;e&&e.forEach(function(e){var n=t.rowManager.findRow(e[t.options.index]);n?n.updateData(e):t.rowManager.addRow(e)})},getRow:function(e){var t=this.rowManager.findRow(e);return!!t&&t.getComponent()},deleteRow:function(e){var t=this.rowManager.findRow(e);return!!t&&(t.delete(),!0)},addRow:function(e,t,n){return this.rowManager.addRow(e,t,n).getComponent()},updateOrAddRow:function(e,t){var n=this.rowManager.findRow(e);return n?n.updateData(t):n=this.rowManager.addRow(t),n.getComponent()},updateRow:function(e,t){var n=this.rowManager.findRow(e);return!!n&&(n.updateData(t),n.getComponent())},scrollToRow:function(e){var t=this.rowManager.findRow(e);return!!t&&this.rowManager.scrollToRow(t)},getRows:function(e){return this.rowManager.getComponents(e)},setColumns:function(e){this.columnManager.setColumns(e)},getColumns:function(){return this.columnManager.getComponents()},getColumnDefinitions:function(){return this.columnManager.getDefinitionTree()},getColumnLayout:function(){if(this.extExists("persistentLayout",!0))return this.extensions.persistentLayout.parseColumns(this.columnManager.getColumns())},setColumnLayout:function(e){return!!this.extExists("persistentLayout",!0)&&(this.columnManager.setColumns(this.extensions.persistentLayout.mergeDefinition(this.options.columns,e)),!0)},showColumn:function(e){var t=this.columnManager.findColumn(e);if(!t)return!1;t.show()},hideColumn:function(e){var t=this.columnManager.findColumn(e);if(!t)return!1;t.hide()},toggleColumn:function(e){var t=this.columnManager.findColumn(e);if(!t)return!1;t.visible?t.hide():t.show()},addColumn:function(e,t,n){var i=this.columnManager.findColumn(n);this.columnManager.addColumn(e,t,i)},deleteColumn:function(e){var t=this.columnManager.findColumn(e);if(!t)return!1;t.delete()},setLocale:function(e){this.extensions.localize.setLocale(e)},getLocale:function(){return this.extensions.localize.getLocale()},getLang:function(e){return this.extensions.localize.getLang(e)},redraw:function(e){this.columnManager.redraw(e),this.rowManager.redraw(e)},setHeight:function(e){this.options.height=isNaN(e)?e:e+"px",this.element.css({height:this.options.height}),this.rowManager.redraw()},setSort:function(e,t){this.extExists("sort",!0)&&(this.extensions.sort.setSort(e,t),this.rowManager.sorterRefresh())},getSort:function(){if(this.extExists("sort",!0))return this.extensions.sort.getSort()},clearSort:function(){this.extExists("sort",!0)&&(this.extensions.sort.clear(),this.rowManager.sorterRefresh())},setFilter:function(e,t,n){this.extExists("filter",!0)&&(this.extensions.filter.setFilter(e,t,n),this.rowManager.filterRefresh())},addFilter:function(e,t,n){this.extExists("filter",!0)&&(this.extensions.filter.addFilter(e,t,n),this.rowManager.filterRefresh())},getFilter:function(){if(this.extExists("filter",!0))return this.extensions.filter.getFilter()},removeFilter:function(e,t,n){this.extExists("filter",!0)&&(this.extensions.filter.removeFilter(e,t,n),this.rowManager.filterRefresh())},clearFilter:function(e){this.extExists("filter",!0)&&(this.extensions.filter.clearFilter(e),this.rowManager.filterRefresh())},clearHeaderFilter:function(){this.extExists("filter",!0)&&(this.extensions.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},selectRow:function(e){this.extExists("selectRow",!0)&&this.extensions.selectRow.selectRows(e)},deselectRow:function(e){this.extExists("selectRow",!0)&&this.extensions.selectRow.deselectRows(e)},toggleSelectRow:function(e){this.extExists("selectRow",!0)&&this.extensions.selectRow.toggleRow(e)},getSelectedRows:function(){if(this.extExists("selectRow",!0))return this.extensions.selectRow.getSelectedRows()},getSelectedData:function(){if(this.extExists("selectRow",!0))return this.extensions.selectRow.getSelectedData()},setMaxPage:function(e){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.setMaxPage(e)},setPage:function(e){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.setPage(e)},setPageSize:function(e){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.setPageSize(e),this.extensions.page.setPage(1)},previousPage:function(){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.previousPage()},nextPage:function(){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.nextPage()},getPage:function(){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.getPage()},getPageMax:function(){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.getPageMax()},setGroupBy:function(e){if(!this.extExists("groupRows",!0))return!1;this.options.groupBy=e,this.extensions.groupRows.initialize(),this.rowManager.refreshActiveData()},setGroupStartOpen:function(e){if(!this.extExists("groupRows",!0))return!1;this.options.groupStartOpen=e,this.extensions.groupRows.initialize(),this.options.groupBy&&this.rowManager.refreshActiveData()},setGroupHeader:function(e){if(!this.extExists("groupRows",!0))return!1;this.options.groupHeader=e,this.extensions.groupRows.initialize(),this.options.groupBy&&this.rowManager.refreshActiveData()},navigatePrev:function(){var t=!1;return!(!this.table.extExists("edit",!0)||!(t=this.table.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().prev())},navigateNext:function(){var t=!1;return!(!this.table.extExists("edit",!0)||!(t=this.table.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().next())},navigateLeft:function(){var t=!1;return!(!this.table.extExists("edit",!0)||!(t=this.table.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().left())},navigateRight:function(){var t=!1;return!(!this.table.extExists("edit",!0)||!(t=this.table.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().right())},navigateUp:function(){var t=!1;return!(!this.table.extExists("edit",!0)||!(t=this.table.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().up())},navigateDown:function(){var t=!1;return!(!this.table.extExists("edit",!0)||!(t=this.table.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().dpwn())},undo:function(){return!(!this.options.history||!this.extExists("history",!0))&&this.extensions.history.undo()},redo:function(){return!(!this.options.history||!this.extExists("history",!0))&&this.extensions.history.redo()},download:function(e,t,n){this.extExists("download",!0)&&this.extensions.download.download(e,t,n)},extensions:{},extensionBindings:{},extendExtension:function(e,t,n){if(this.extensionBindings[e]){var i=this.extensionBindings[e].prototype[t];if(i&&"object"==(void 0===n?"undefined":_typeof(n)))for(var o in n)i[o]=n[o]}},registerExtension:function(e,t){this.extensionBindings[e]=t},bindExtensions:function(){var e=this;this.extensions={};for(var t in e.extensionBindings)e.extensions[t]=new e.extensionBindings[t](e)},extExists:function(e,t){return!!this.extensions[e]}}}();